name: Context testing
on: push

jobs:
    dump_contexts_to_log:
        runs-on: ubuntu-latest
        # if: startsWith(${github.head_commit.message^^}), 'CUT VERSION')
        steps:
            - name: Dump GitHub context
              id: github_context_step
              run: echo '${{ toJSON(github) }}'
            - name: Dump job context
              run: echo '${{ toJSON(job) }}'
            - name: Dump steps context
              run: echo '${{ toJSON(steps) }}'
            - name: Dump runner context
              run: echo '${{ toJSON(runner) }}'
            - name: Dump strategy context
              run: echo '${{ toJSON(strategy) }}'
            - name: Dump matrix context
              run: echo '${{ toJSON(matrix) }}'
            - name: Env
              run: |
                  GITHUB_PR_TITLE="${{github.event.head_commit.message}}"
                  echo "V1: $GITHUB_PR_TITLE"
                  GITHUB_PR_TITLE="${GITHUB_PR_TITLE^^}"
                  echo "V2: $GITHUB_PR_TITLE"
                  GITHUB_PR_TITLE="${GITHUB_PR_TITLE%"CUT VERSION"}"
                  echo "V3: ${GITHUB_PR_TITLE%% *}"
